(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[7338],{32414:function(x){x.exports={ellipsis:"ellipsis___33eG9",lines:"lines___1gb2-",shadow:"shadow___tdEE1",lineClamp:"lineClamp___2dh8L"}},17338:function(x,O,a){"use strict";a.r(O),a.d(O,{getStrFullLength:function(){return W},cutStrByFullLength:function(){return Z},default:function(){return $}});var j=a(32059),A=a(69610),B=a(54941),U=a(81306),I=a(72936),z=a(22385),M=a(69713),c=a(11849),y=a(93224),K=a(67294),F=a(94184),H=a.n(F),N=a(32414),C=a.n(N),i=a(85893),D=document.body.style.webkitLineClamp!==void 0,b={overflowWrap:"break-word",wordWrap:"break-word"},W=function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return d.split("").reduce(function(n,e){var s=e.charCodeAt(0);return s>=0&&s<=128?n+1:n+2},0)},Z=function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0,e=0;return d.split("").reduce(function(s,m){var h=m.charCodeAt(0);return h>=0&&h<=128?e+=1:e+=2,e<=n?s+m:s},"")},w=function(d){var n=d.text,e=d.length,s=d.tooltip,m=d.fullWidthRecognition,h=d.array,t=d.arrFormat,r=(0,y.Z)(d,["text","length","tooltip","fullWidthRecognition","array","arrFormat"]);if(h){if(n.length<=e||e<0)return(0,i.jsx)("span",(0,c.Z)((0,c.Z)({},r),{},{children:n}));var g="...",u;if(n.length-e<=0?u="":u=n.splice(0,e),s)return(0,i.jsx)(M.Z,{overlayStyle:b,title:t||n,children:(0,i.jsxs)("span",{children:[u,g]})})}var v=m?W(n):n.length;if(v<=e||e<0)return(0,i.jsx)("span",(0,c.Z)((0,c.Z)({},r),{},{children:n}));var o="...",_;return e-o.length<=0?_="":_=m?Z(n,e):n.slice(0,e),s?(0,i.jsx)(M.Z,{overlayStyle:b,title:n,children:(0,i.jsxs)("span",{children:[_,o]})}):(0,i.jsxs)("span",(0,c.Z)((0,c.Z)({},r),{},{children:[_,o]}))},$=function(L){(0,U.Z)(n,L);var d=(0,I.Z)(n);function n(){var e;(0,A.Z)(this,n);for(var s=arguments.length,m=new Array(s),h=0;h<s;h++)m[h]=arguments[h];return e=d.call.apply(d,[this].concat(m)),e.state={text:"",targetCount:0},e.computeLine=function(){var t=e.props.lines;if(t&&!D){var r=e.shadowChildren.innerText||e.shadowChildren.textContent,g=parseInt(getComputedStyle(e.root).lineHeight,10),u=t*g;e.content.style.height="".concat(u,"px");var v=e.shadowChildren.offsetHeight,o=e.shadow.firstChild;if(v<=u){e.setState({text:r,targetCount:r.length});return}var _=r.length,l=Math.ceil(_/2),f=e.bisection(u,l,0,_,r,o);e.setState({text:r,targetCount:f})}},e.bisection=function(t,r,g,u,v,o){var _="...",l=r,f=u,p=g;o.innerHTML=v.substring(0,l)+_;var E=o.offsetHeight;return E<=t?(o.innerHTML=v.substring(0,l+1)+_,E=o.offsetHeight,E>t||l===p?l:(p=l,f-p==1?l=1+p:l=Math.floor((f-p)/2)+p,e.bisection(t,l,p,f,v,o))):l-1<0?l:(o.innerHTML=v.substring(0,l-1)+_,E=o.offsetHeight,E<=t?l-1:(f=l,l=Math.floor((f-p)/2)+p,e.bisection(t,l,p,f,v,o)))},e.handleRoot=function(t){e.root=t},e.handleContent=function(t){e.content=t},e.handleNode=function(t){e.node=t},e.handleShadow=function(t){e.shadow=t},e.handleShadowChildren=function(t){e.shadowChildren=t},e}return(0,B.Z)(n,[{key:"componentDidMount",value:function(){this.node&&this.computeLine()}},{key:"componentDidUpdate",value:function(s){var m=this.props.lines;m!==s.lines&&this.computeLine()}},{key:"render",value:function(){var s,m=this.state,h=m.text,t=m.targetCount,r=this.props,g=r.children,u=r.lines,v=r.length,o=r.className,_=r.tooltip,l=r.array,f=r.arrFormat,p=r.fullWidthRecognition,E=(0,y.Z)(r,["children","lines","length","className","tooltip","array","arrFormat","fullWidthRecognition"]),P=H()(C().ellipsis,o,(s={},(0,j.Z)(s,C().lines,u&&!D),(0,j.Z)(s,C().lineClamp,u&&D),s));if(!u&&!v)return(0,i.jsx)("span",(0,c.Z)((0,c.Z)({className:P},E),{},{children:g}));if(!u)return(0,i.jsx)(w,(0,c.Z)({className:P,length:v,text:g||"",tooltip:_,fullWidthRecognition:p,array:l,arrFormat:f},E));var R="antd-pro-ellipsis-".concat("".concat(new Date().getTime()).concat(Math.floor(Math.random()*100)));if(D){var G="#".concat(R,"{-webkit-line-clamp:").concat(u,";-webkit-box-orient: vertical;}"),T=(0,i.jsxs)("div",(0,c.Z)((0,c.Z)({id:R,className:P},E),{},{children:[(0,i.jsx)("style",{children:G}),g]}));return _?(0,i.jsx)(M.Z,{overlayStyle:b,title:f||_,children:T}):T}var S=(0,i.jsxs)("span",{ref:this.handleNode,children:[t>0&&h.substring(0,t),t>0&&t<h.length&&"..."]});return(0,i.jsx)("div",(0,c.Z)((0,c.Z)({},E),{},{ref:this.handleRoot,className:P,children:(0,i.jsxs)("div",{ref:this.handleContent,children:[_?(0,i.jsx)(M.Z,{overlayStyle:b,title:f||h,children:S}):S,(0,i.jsx)("div",{className:C().shadow,ref:this.handleShadowChildren,children:g}),(0,i.jsx)("div",{className:C().shadow,ref:this.handleShadow,children:(0,i.jsx)("span",{children:h})})]})}))}}]),n}(K.Component)}}]);
